<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <script>
    let atual = "0";
    let op1 = 0;
    let soma = false;
    let sub = false;
    let multi = false;
    let div = false;
    let resultadoFoiExibido = false; 

    window.onload = inicio;

    function inicio() {
        document.getElementById('entrada').value = atual;

        let btnSete = document.getElementById('botaoSete');
        btnSete.addEventListener('click', fsete);

        let btnOito = document.getElementById('botaoOito');
        btnOito.addEventListener('click', foito);

        let btnNove = document.getElementById('botaoNove');
        btnNove.addEventListener('click', fnove);

        let btnQuatro = document.getElementById('botaoQuatro');
        btnQuatro.addEventListener('click', fquatro);

        let btnCinco = document.getElementById('botaoCinco');
        btnCinco.addEventListener('click', fcinco);

        let btnSeis = document.getElementById('botaoSeis');
        btnSeis.addEventListener('click', fseis);

        let btnUm = document.getElementById('botaoUm');
        btnUm.addEventListener('click', fum);

        let btnDois = document.getElementById('botaoDois');
        btnDois.addEventListener('click', fdois);

        let btnTres = document.getElementById('botaoTres');
        btnTres.addEventListener('click', ftres);

        let btnZero = document.getElementById('botaoZero');
        btnZero.addEventListener('click', fzero);

        let btnSoma = document.getElementById('botaoSoma');
        btnSoma.addEventListener('click', fsoma);

        let btnSub = document.getElementById('botaoSub');
        btnSub.addEventListener('click', fsub);

        let btnMulti = document.getElementById('botaoMulti');
        btnMulti.addEventListener('click', fmulti);

        let btnIgual = document.getElementById('botaoIgual');
        btnIgual.addEventListener('click', fresuldado);

        let btnDiv = document.getElementById('botaoDiv');
        btnDiv.addEventListener('click', fdiv);

        let btnPonto = document.getElementById('botaoPonto');
        btnPonto.addEventListener('click', fponto);
    }


    function fsete() {
        if (resultadoFoiExibido) {
            atual = "0"; 
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "7";
        } else {
            atual += "7";
        }
        document.getElementById('entrada').value = atual;
    }

    function foito() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "8";
        } else {
            atual += "8";
        }
        document.getElementById('entrada').value = atual;
    }

    function fnove() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "9";
        } else {
            atual += "9";
        }
        document.getElementById('entrada').value = atual;
    }

    function fquatro() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "4";
        } else {
            atual += "4";
        }
        document.getElementById('entrada').value = atual;
    }

    function fcinco() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "5";
        } else {
            atual += "5";
        }
        document.getElementById('entrada').value = atual;
    }

    function fseis() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "6";
        } else {
            atual += "6";
        }
        document.getElementById('entrada').value = atual;
    }

    function fum() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "1";
        } else {
            atual += "1";
        }
        document.getElementById('entrada').value = atual;
    }

    function fdois() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "2";
        } else {
            atual += "2";
        }
        document.getElementById('entrada').value = atual;
    }

    function ftres() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
        if (atual === "0") {
            atual = "3";
        } else {
            atual += "3";
        }
        document.getElementById('entrada').value = atual;
    }

    function fzero() {
        if (resultadoFoiExibido) {
            atual = "0";
            resultadoFoiExibido = false;
        }
    
        if (atual === "0") {
        
        } else {
            atual += "0";
        }
        document.getElementById('entrada').value = atual;
    }


    function fsoma(){
        soma = true;
        sub = false; multi = false; div = false;
        op1 = parseFloat(atual);
        atual = "0";
        resultadoFoiExibido = false; 
        document.getElementById('entrada').value = atual;
    }

    function fsub(){
        sub = true;
        soma = false; multi = false; div = false;
        op1 = parseFloat(atual);
        atual = "0";
        resultadoFoiExibido = false;
        document.getElementById('entrada').value = atual;
    }

    function fmulti(){
        multi = true;
        soma = false; sub = false; div = false;
        op1 = parseFloat(atual);
        atual = "0";
        resultadoFoiExibido = false;
        document.getElementById('entrada').value = atual;
    }


    function fdiv(){
        div = true;
        soma = false; sub = false; multi = false;
        op1 = parseFloat(atual);
        atual = "0";
        resultadoFoiExibido = false;
        document.getElementById('entrada').value = atual;
    }

    function fponto(){
        if (resultadoFoiExibido) {
            atual = "0"; 
            resultadoFoiExibido = false;
        }
        let visorCampo = document.getElementById('entrada');

        if (!atual.includes("."))
        {
            if (atual == "0" || atual == "") { 
                atual = "0.";
            } else {
                atual += ".";
            }
            visorCampo.value = atual;
        }
    }

    function fresuldado(){
        let visorCampo = document.getElementById('entrada');
        let operando2 = parseFloat(atual);
        let resultadoNumerico;

        if (soma == true)
        {
            resultadoNumerico = op1 + operando2;
        } else if (sub == true)
        {
            resultadoNumerico = op1 - operando2;
        } else if (multi == true)
        {
            resultadoNumerico = op1 * operando2;
        } else if (div == true)
        {
            if (operando2 == 0)
            {
                alert("Erro: Divisão por zero não é permitida!");
                atual = "0";
                op1 = undefined;
                soma = false;
                sub = false;
                multi = false;
                div = false;
                resultadoFoiExibido = false; 
                visorCampo.value = "Erro";
                return;
            }
            resultadoNumerico = op1 / operando2;
        }
        else
        {
            resultadoFoiExibido = false; 
            return;
        }

        visorCampo.value = String(resultadoNumerico);
        atual = String(resultadoNumerico); 
        op1 = undefined;
        soma = false;
        sub = false;
        multi = false;
        div = false;
        resultadoFoiExibido = true; 
    }

    </script>
</head>
<body>
    <input type="text" id="entrada" readonly>

    <div id="botoes">
    <input type="button" value="7" id="botaoSete">
    <input type="button" value="8" id="botaoOito">
    <input type="button" value="9" id="botaoNove">
    <input type="button" value="*" id="botaoMulti">
    <br><br>
    <input type="button" value="4" id="botaoQuatro">
    <input type="button" value="5" id="botaoCinco">
    <input type="button" value="6" id="botaoSeis">
    <input type="button" value="-" id="botaoSub">
    <br><br>
    <input type="button" value="1" id="botaoUm">
    <input type="button" value="2" id="botaoDois">
    <input type="button" value="3" id="botaoTres">
    <input type="button" value="+" id="botaoSoma">
    <br><br>
    <input type="button" value="0" id="botaoZero">
    <input type="button" value="." id="botaoPonto">
    <input type="button" value="/" id="botaoDiv">
    <input type="button" value="=" id="botaoIgual">
    </div>
</body>
</html>